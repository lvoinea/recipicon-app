<div class="row" style="text-align:center;" ng-if="vm.loading">   
    <span class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span> Loading ...
</div>
<div ng-if="!vm.loading">
    <h3 class="text-center">
        {{vm.recipe.name}} </br>
        <small ng-if="vm.recipe.in_shopping_list">(in shopping list)</small>
    </h3>
    <div class="row">
        <div class="panel col-xs-5">        
            <button type="button" ng-if="!vm.recipe.in_shopping_list" ng-click="vm.addToBasket()">
                Select
                <span class="glyphicon glyphicon-refresh glyphicon-refresh-animate" ng-if="vm.selecting"></span>
            </button> 
            <button type="button" ng-if="vm.recipe.in_shopping_list" ng-click="vm.removeFromBasket()">
                Deselect
                <span class="glyphicon glyphicon-refresh glyphicon-refresh-animate" ng-if="vm.selecting"></span>
            </button>   
        </div>
        <div class="panel col-xs-7 text-right">
            <button type="button" ng-click="vm.edit()">
                Edit
            </button>
            <button type="button"  ng-click="vm.remove()">
                Delete
                <span class="glyphicon glyphicon-trash" ng-if="!vm.deleting"></span>
                <span class="glyphicon glyphicon-refresh glyphicon-refresh-animate" ng-if="vm.deleting"></span>
            </button>
        </div>
    </div>

    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">
                Description ({{vm.recipe.category}} | {{vm.recipe.duration}} min.)
            </h3>
        </div>
        <div class="panel-body">            
            <div ng-repeat="paragraph in vm.recipeDescription track by $index">{{paragraph}}</div>
        </div>
    </div>

    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">
                List of ingredients <i>({{vm.recipe.serves}} serves)</i>
            </h3>
        </div>
        <div class="panel-body">
            <ul>
                <li ng-repeat="ingredient in vm.recipe.recipe_ingredients">
                    {{ingredient.ingredient}} ( {{ingredient.quantity}} {{ingredient.unit}} )
                </li> 
            </ul>
        </div>
    </div>
    
</div>