<div class="row" style="text-align:center;" ng-if="vm.isLoading()">   
    <span class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span> Loading ...
</div>
<div ng-if="!vm.isLoading()">
    <h3 class="text-center">
        {{vm.recipe.name}} </br>
        <small ng-if="vm.recipe.in_shopping_list">( in shopping list )</small>
    </h3>
    
    <div class="panel">
    <div class="btn-group btn-group-justified" role="group" aria-label="...">
        <a type="button" class="btn btn-primary" ng-if="!vm.recipe.in_shopping_list" ng-click="vm.addToBasket()">
            <span class="glyphicon glyphicon-refresh glyphicon-refresh-animate" ng-if="vm.selecting"></span>
            Add to <span class="glyphicon glyphicon-shopping-cart"></span>                
        </a> 
        <a type="button" class="btn btn-primary" ng-if="vm.recipe.in_shopping_list" ng-click="vm.removeFromBasket()">
            <span class="glyphicon glyphicon-refresh glyphicon-refresh-animate" ng-if="vm.selecting"></span>
           Out of <span class="glyphicon glyphicon-shopping-cart"></span>                
        </a>
        <a type="button" class="btn btn-primary" ng-click="vm.edit()">
            Edit
        </a>
        <a type="button" class="btn btn-primary" ng-click="vm.remove()">
            Delete
            <span class="glyphicon glyphicon-trash" ng-if="!vm.deleting"></span>
            <span class="glyphicon glyphicon-refresh glyphicon-refresh-animate" ng-if="vm.deleting"></span>
        </a>
    </div>
    </div>

    <div class="panel panel-default" ng-if="vm.recipe.image">
        <img class="center-block img-responsive" ngf-src="vm.recipe.image">
    </div>

    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">
                Description ( {{vm.recipe.category}} | {{vm.recipe.duration}} min.)
            </h3>
        </div>
        <div class="panel-body">            
            <div ng-repeat="paragraph in vm.recipeDescription track by $index">{{paragraph}}</div>
        </div>
    </div>

    <div class="panel panel-default">
        <div class="panel-heading">
            <h3 class="panel-title">
                List of ingredients ( {{vm.recipe.serves}} serves )
            </h3>
        </div>
        <div class="panel-body">
            <ul>
                <li ng-repeat="ingredient in vm.recipe.recipe_ingredients">
                    {{vm.ingredients[ingredient.ingredient].name}} ( {{ingredient.quantity}} {{ingredient.unit}} )
                </li> 
            </ul>
        </div>
    </div>
    
</div>